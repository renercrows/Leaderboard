(()=>{"use strict";const o=document.querySelector("#message");class e{constructor(){this.books=[{title:"Example Book",author:"Example Author"},{title:"Another Example Book",author:"Another Author"}]}genHTML(){for(let e=0;e<this.books.length;e+=1){document.getElementById("book-form").innerHTML+='\n      <tr>\n        <td>\n          <article class="book-card">\n            <p class="book-title"></p>\n            <p class="book-author"></p>\n            <button class="book-btn">Remove</button>\n          </article>\n        </td>\n      </tr>\n      ';const t=document.querySelectorAll(".book-title"),n=document.querySelectorAll(".book-author"),r=document.querySelectorAll(".book-btn");""===this.books[e].author?(n[e].innerHTML="By Unknown",o.innerHTML='Last author was set as "Unknown"'):(n[e].innerHTML=`By ${this.books[e].author}`,o.innerHTML=""),t[e].innerHTML=`"${this.books[e].title}"`,r[e].setAttribute("onclick",`bookForm.removeBook(${e})`)}document.querySelector("#empty-list").innerHTML="List empty"}addBook(o,e){const t={title:o,author:e};this.books.push(t);const n=JSON.stringify(this.books);localStorage.setItem("Books",n),document.querySelector("#empty-list").innerHTML="",document.querySelector("#invitation").innerHTML=""}reload(){if(localStorage.getItem("Books")){const o=localStorage.getItem("Books"),e=JSON.parse(o);document.getElementById("book-form").innerHTML="",this.books=e,this.genHTML()}else this.genHTML()}removeBook(o){this.books.splice(o,1);const e=JSON.stringify(this.books);localStorage.setItem("Books",e),this.reload()}}const t=new e;window.onload=t.reload();const n=document.forms[0],r=document.querySelector("#title"),s=document.querySelector("#author");document.querySelector("#button").addEventListener("click",(()=>{""===r.value?(o.style.color="#f00",o.innerHTML="Title required",document.forms[0][0].style.borderColor="#f00"):(t.addBook(r.value,s.value),t.reload(),o.style.color="#000",n[0].style.borderColor="#000",n.reset())})),new e})();